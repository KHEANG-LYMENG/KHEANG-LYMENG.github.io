import{r as i,a as C,L as f,B as O,R as _,b as w,c as T}from"./react-vendor-C_xdAh7T.js";import{H as b}from"./hls.js-D2w2W2WZ.js";import{P as k}from"./plyr-Bx69nal5.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var P={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B=i,D=Symbol.for("react.element"),$=Symbol.for("react.fragment"),I=Object.prototype.hasOwnProperty,F=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function A(n,s,t){var r,o={},a=null,l=null;t!==void 0&&(a=""+t),s.key!==void 0&&(a=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)I.call(s,r)&&!V.hasOwnProperty(r)&&(o[r]=s[r]);if(n&&n.defaultProps)for(r in s=n.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:D,type:n,key:a,ref:l,props:o,_owner:F.current}}v.Fragment=$;v.jsx=A;v.jsxs=A;P.exports=v;var e=P.exports,R={},M=C;R.createRoot=M.createRoot,R.hydrateRoot=M.hydrateRoot;function H(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-teal-500 to-green-500",children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("img",{src:"/profile.jpg",alt:"Profile Avatar",className:"w-48 h-48 rounded-full mx-auto mb-6 border-4 border-white/30 object-cover"}),e.jsx("h1",{className:"text-4xl sm:text-6xl font-bold mb-6",children:"KHEANG LYMENG"})]}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-12",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Interested in"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:"Frontend Development"}),e.jsx("li",{children:"Backend Development"}),e.jsx("li",{children:"Artificial Intelligence"}),e.jsx("li",{})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Projects"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{to:"/schoolproject",className:"block w-full py-3 px-6 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:"School Projects →"}),e.jsx(f,{to:"/sideproject",className:"block w-full py-3 px-6 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:"Side Projects →"})]})]})]})]})})})}function U(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-teal-500 to-green-500",children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white text-center mb-12",children:"School Projects"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.jsx(f,{to:"/schoolproject/math",className:"group block bg-white/10 backdrop-blur-lg rounded-xl p-6 hover:bg-white/20 transition-colors",children:e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Basic Math Practice"}),e.jsx("p",{className:"opacity-90 mb-4",children:"Basic math exercises for students with instant feedback and progress tracking."}),e.jsx("span",{className:"inline-block text-sm font-semibold group-hover:translate-x-1 transition-transform",children:"Try it out →"})]})})}),e.jsx(f,{to:"/",className:"inline-block mt-12 text-white hover:text-white/80 transition-colors",children:"← Back to Portfolio"})]})})})}const E=n=>{switch(n){case"1-digit":return Math.floor(Math.random()*9)+1;case"2-digit":return Math.floor(Math.random()*90)+10;case"3-digit":return Math.floor(Math.random()*900)+100}},W=(n,s)=>{let t,r;switch(n){case"+":t=E(s),r=E(s);break;case"-":t=E(s),r=s==="1-digit"?Math.floor(Math.random()*t)+1:Math.floor(Math.random()*(t-1))+1;break;case"×":t=s==="1-digit"?Math.floor(Math.random()*9)+1:Math.floor(Math.random()*12)+1,r=s==="1-digit"?Math.floor(Math.random()*9)+1:Math.floor(Math.random()*12)+1;break;case"÷":r=s==="1-digit"?Math.floor(Math.random()*9)+1:Math.floor(Math.random()*12)+1,t=r*(Math.floor(Math.random()*10)+1);break;default:t=0,r=0}return[t,r]},G=(n,s,t)=>{switch(t){case"+":return n+s;case"-":return n-s;case"×":return n*s;case"÷":return n/s;default:return 0}},K=n=>n<=4?"Bad":n<=6?"Medium":n<=8?"Good":n===9?"Very Good":"Excellence",Y=({selectedOperation:n,onOperationChange:s})=>{const t=["+","-","×","÷"];return e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.map(r=>e.jsx("button",{onClick:()=>s(r),className:`px-4 py-2 text-xl rounded min-w-[48px] ${n===r?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:r},r))})},q=({selectedDifficulty:n,onDifficultyChange:s})=>{const t=["1-digit","2-digit","3-digit"];return e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Select Difficulty:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(r=>e.jsx("button",{onClick:()=>s(r),className:`px-3 py-2 text-sm sm:px-4 sm:text-base rounded ${n===r?"bg-purple-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:r},r))})]})},z=({exercises:n,onAnswerChange:s})=>e.jsx("div",{className:"space-y-4 mb-6",children:n.map(t=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"font-bold w-8",children:[t.id,"."]}),e.jsxs("div",{className:"text-lg sm:text-xl whitespace-nowrap",children:[t.num1," ",t.operation," ",t.num2," ="]}),e.jsx("input",{type:"number",value:t.userAnswer,onChange:r=>s(t.id,r.target.value),disabled:t.isAnswered,className:"border-2 border-gray-300 rounded px-3 py-1 w-20 sm:w-24 text-center",placeholder:"?"}),t.isAnswered&&e.jsx("div",{className:`text-sm sm:text-base ${t.userAnswer===t.correctAnswer.toString()?"text-green-600":"text-red-600"}`,children:t.userAnswer===t.correctAnswer.toString()?"✓ Correct!":`✗ Correct answer: ${t.correctAnswer}`})]},t.id))}),J=({correctCount:n,totalExercises:s})=>{const t=K(n);return e.jsxs("div",{className:"text-center p-4 bg-gray-100 rounded-lg",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2",children:"Results"}),e.jsxs("p",{className:"mb-2 text-sm sm:text-base",children:["You got ",n," out of ",s," correct!"]}),e.jsxs("p",{className:`text-xl sm:text-2xl font-bold ${t==="Excellence"?"text-purple-600":t==="Very Good"?"text-green-600":t==="Good"?"text-blue-600":t==="Medium"?"text-yellow-600":"text-red-600"}`,children:["Rating: ",t]})]})},S=({onClick:n,children:s,variant:t="primary"})=>{const r="px-4 sm:px-6 py-2 rounded font-medium transition-colors text-sm sm:text-base whitespace-nowrap",o={primary:"bg-green-500 text-white hover:bg-green-600",secondary:"bg-blue-500 text-white hover:bg-blue-600"};return e.jsx("button",{onClick:n,className:`${r} ${o[t]}`,children:s})};function X(){const[n,s]=i.useState("+"),[t,r]=i.useState("1-digit"),[o,a]=i.useState([]),[l,m]=i.useState(!1),x=()=>{const c=Array.from({length:10},(d,p)=>{const[j,y]=W(n,t);return{id:p+1,num1:j,num2:y,operation:n,userAnswer:"",correctAnswer:G(j,y,n),isAnswered:!1}});a(c),m(!1)};i.useEffect(()=>{x()},[n,t]);const h=(c,d)=>{a(o.map(p=>p.id===c?{...p,userAnswer:d}:p))},u=()=>{a(o.map(c=>({...c,isAnswered:!0}))),m(!0)},g=o.filter(c=>c.userAnswer===c.correctAnswer.toString()).length;return e.jsx("div",{className:"min-h-screen bg-gray-100 py-4 sm:py-8 px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-4 sm:p-8 rounded-lg shadow-lg",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-center mb-6",children:"Basic Math Practice"}),e.jsxs("div",{className:"mb-6",children:[e.jsx(Y,{selectedOperation:n,onOperationChange:c=>s(c)}),e.jsx(q,{selectedDifficulty:t,onDifficultyChange:c=>r(c)})]}),e.jsx(z,{exercises:o,onAnswerChange:h}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 mb-6",children:[e.jsx(S,{onClick:u,children:"Check Answers"}),e.jsx(S,{variant:"secondary",onClick:x,children:"New Exercises"})]}),l&&e.jsx(J,{correctCount:g,totalExercises:o.length}),e.jsx("div",{children:e.jsx(f,{to:"/schoolproject",className:"inline-block mt-12 text-black hover:text-blue-500/80 transition-colors",children:"← Back to Portfolio"})})]})})}function Q(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 via-teal-500 to-green-500",children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white text-center mb-12",children:"Side Projects"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:e.jsx(f,{to:"/sideproject/khmertv",className:"group block bg-white/10 backdrop-blur-lg rounded-xl p-6 hover:bg-white/20 transition-colors",children:e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Khmer TV"}),e.jsx("p",{className:"opacity-90 mb-4",children:"Watch Cambodian TV channels online streaming."}),e.jsx("span",{className:"inline-block text-sm font-semibold group-hover:translate-x-1 transition-transform",children:"Watch Now →"})]})})}),e.jsx(f,{to:"/",className:"inline-block mt-12 text-white hover:text-white/80 transition-colors",children:"← Back to Portfolio"})]})})})}const Z=({src:n})=>{const s=i.useRef(null),t=i.useRef(),r=i.useRef(),[o,a]=i.useState(""),[l,m]=i.useState(0),x=3;return i.useEffect(()=>{let h=!0;const u=async()=>{if(!s.current)return;r.current&&r.current.destroy(),t.current&&t.current.destroy();const g=s.current;g.removeAttribute("src"),g.load();const c={controls:["play-large","play","progress","current-time","mute","volume","fullscreen"]};try{if(b.isSupported()){const d=new b({xhrSetup:p=>{p.withCredentials=!1},enableWorker:!0,lowLatencyMode:!0,backBufferLength:90,maxBufferSize:3e7,maxBufferLength:30,maxMaxBufferLength:60,startLevel:-1,abrEwmaDefaultEstimate:5e5,manifestLoadingTimeOut:2e4,manifestLoadingMaxRetry:3,manifestLoadingRetryDelay:1e3,levelLoadingTimeOut:2e4,levelLoadingMaxRetry:3,levelLoadingRetryDelay:1e3});return r.current=d,new Promise((p,j)=>{d.on(b.Events.MEDIA_ATTACHED,()=>{console.log("HLS Media Attached"),d.loadSource(n)}),d.on(b.Events.MANIFEST_PARSED,()=>{console.log("HLS Manifest Parsed"),h&&(t.current=new k(g,c),p(null))}),d.on(b.Events.ERROR,(y,N)=>{if(console.warn("HLS Error:",N),N.fatal)switch(N.type){case b.ErrorTypes.NETWORK_ERROR:l<x?(console.log(`Retrying stream (${l+1}/${x})`),m(L=>L+1),d.startLoad()):(a("Network error: Please check your connection"),j(new Error("Network error")));break;case b.ErrorTypes.MEDIA_ERROR:console.log("Attempting to recover media error"),d.recoverMediaError();break;default:a("Failed to load stream"),j(new Error("Fatal HLS error"));break}}),d.attachMedia(g)})}else if(g.canPlayType("application/vnd.apple.mpegurl"))return g.src=n,new Promise(d=>{g.addEventListener("loadedmetadata",()=>{h&&(t.current=new k(g,c),d(null))})})}catch(d){console.error("Video player error:",d),a("Failed to load video stream")}};return a(""),m(0),u(),()=>{h=!1,r.current&&r.current.destroy(),t.current&&t.current.destroy()}},[n]),e.jsx("div",{className:"w-full aspect-video bg-black relative",children:o?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white bg-black bg-opacity-75",children:e.jsx("p",{children:o})}):e.jsx("video",{ref:s,className:"w-full h-full",crossOrigin:"anonymous",playsInline:!0})})},ee=({channels:n,onChannelSelect:s,selectedChannel:t})=>e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Channels"}),e.jsx("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:n.map((r,o)=>e.jsx("button",{onClick:()=>s(r),className:`w-full text-left p-3 rounded-lg transition-colors ${(t==null?void 0:t.url)===r.url?"bg-blue-600 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[r.logo&&e.jsx("img",{src:r.logo,alt:r.name,className:"w-8 h-8 object-contain"}),e.jsx("span",{className:"truncate",children:r.name})]})},o))})]}),te=async n=>{const s=`https://api.allorigins.win/raw?url=${encodeURIComponent(n)}`,t=await fetch(s);if(!t.ok)throw new Error(`Failed to fetch playlist: ${t.statusText}`);return t.text()};async function re(n){try{const t=(await te(n)).split(`
`),r=[];let o={};for(let a=0;a<t.length;a++){const l=t[a].trim();if(l.startsWith("#EXTINF:")){const m=l.match(/tvg-name="([^"]*)"/)||l.match(/,(.*)$/),x=l.match(/tvg-logo="([^"]*)"/),h=l.match(/group-title="([^"]*)"/);o.name=m?m[1].trim():"Unknown Channel",o.logo=x?x[1]:void 0,o.group=h?h[1]:void 0}else l.match(/^https?:\/\//)&&(o.url=l,o.name&&o.url&&r.push(o),o={})}return r.filter(a=>a.url&&a.name&&(a.url.includes(".m3u8")||a.url.includes("/live/"))).sort((a,l)=>a.name.localeCompare(l.name))}catch(s){throw console.error("Error parsing M3U file:",s),new Error("Failed to load channel list. Please try again later.")}}const se="https://iptv-org.github.io/iptv/countries/kh.m3u";function ne(){const[n,s]=i.useState([]),[t,r]=i.useState(),[o,a]=i.useState(!0),[l,m]=i.useState("");i.useEffect(()=>{(async()=>{try{a(!0),m("");const u=await re(se);s(u),u.length>0&&r(u[0])}catch(u){m(u instanceof Error?u.message:"Failed to load channels")}finally{a(!1)}})()},[]);const x=h=>{r(h)};return o?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:"Loading channels..."})}):l?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-xl text-center",children:[e.jsx("p",{className:"text-red-500 mb-4",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded",children:"Try Again"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-900 p-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Khmer TV"}),e.jsx(f,{to:"/sideproject",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"← Back to Side Projects"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:t?e.jsx(Z,{src:t.url},t.url):e.jsx("div",{className:"aspect-video bg-gray-800 flex items-center justify-center text-white",children:"Select a channel to start watching"})}),e.jsx("div",{children:e.jsx(ee,{channels:n,onChannelSelect:x,selectedChannel:t})})]})]})})}function oe(){return e.jsx(O,{children:e.jsxs(_,{children:[e.jsx(w,{path:"/",element:e.jsx(H,{})}),e.jsx(w,{path:"/schoolproject",element:e.jsx(U,{})}),e.jsx(w,{path:"/schoolproject/math",element:e.jsx(X,{})}),e.jsx(w,{path:"/sideproject",element:e.jsx(Q,{})}),e.jsx(w,{path:"/sideproject/khmertv",element:e.jsx(ne,{})})]})})}R.createRoot(document.getElementById("root")).render(e.jsx(T.StrictMode,{children:e.jsx(oe,{})}));
